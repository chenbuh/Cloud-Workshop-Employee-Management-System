# 企业知识库 (Enterprise Knowledge Base)

## 概述
企业知识库是公司内部的信息共享平台，支持文档的创建、分类管理、搜索和阅读。同时支持Markdown格式的文档编写和直接文件上传。

## 主要功能

### 1. 文档管理
- **创建文档**: 支持 Markdown 语法。
- **编辑/更新**: 实时预览。
- **分类管理**: 可自定义文档分类。
- **置顶/标签**: 重要文档置顶，支持标签索引。

### 2. 文件上传与附件
- **插图功能**: 在 Markdown 编辑器中，点击工具栏的“插入图片”按钮，可以上传图片并自动插入到文档正文中。
- **附件上传**: 每篇文档支持上传一个主要附件（如 PDF、Word 文档等）。
- **附件下载**: 阅读模式下可查看或下载附件。
- **直接上传**: 在文档列表页，点击“上传文件”按钮，可直接上传文件作为一篇新文档保存。系统会将文件名作为标题，文件类型自动设为“文件”。

### 3. 技术实现
- **Markdown 渲染**: 使用 `markdown-it` 进行前端渲染。
- **文件存储**: 后端使用本地文件系统存储 (`uploads/` 目录)。
- **接口**: 
  - `POST /api/v1/file/upload`: 通用文件上传接口，返回文件访问 URL。
  - `GET /api/v1/files/**`: 静态资源访问（已配置为免登录访问，以便在 `<img>` 标签中展示）。

## 使用指南
1. **撰写文档**: 点击“撰写文档”按钮，编写文章。
2. **上传文件**: 点击“上传文件”按钮，直接选择本地文件上传到当前分类下。
3. **插入图片**: 在编辑器上方点击“插入图片”，选择本地图片文件。
4. **添加附件**: 在“附件链接”处上传文件，适合关联非图片类的文档。
